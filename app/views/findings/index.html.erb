<h1>Findings</h1>

<div class="mb-3">
  <%= link_to "New Finding", new_audit_finding_path(@audit), class: "btn btn-primary" %>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Title</th>
      <th>Severity</th>
      <th>Status</th>
      <th>Due On</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @findings.each do |finding| %>
      <tr>
        <td><%= finding.title %></td>
        <td><%= finding.severity.humanize %></td>
        <td><%= finding.status.humanize %></td>
        <td><%= finding.due_on&.strftime("%b %d, %Y") %></td>
        <td>
          <%= link_to "Show", audit_finding_path(@audit, finding), class: "btn btn-sm btn-outline-primary" %>
          <%= link_to "Edit", edit_audit_finding_path(@audit, finding), class: "btn btn-sm btn-outline-secondary" %>
          <%= button_to "Delete",
                        audit_finding_path(@audit, finding),
                        method: :delete,
                        data: { confirm: "Are you sure?" },
                        class: "btn btn-sm btn-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
